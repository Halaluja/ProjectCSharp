
<!DOCTYPE html>
@using WebApp.Models;
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>View Room</title>
</head>
<body>
    @{
        //var data = (Login)ViewData["USER"];
        var user = (Account)Session["USER"];
    }
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark menu" style="z-index: 999">
        <a class="navbar-brand" href="/Search/Search">Masion</a>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
            </ul>
            <ul style="height: 100%; margin-top: 15px">
                <li style="height: 100%" class="nav-item dropdown">
                    <a style="color:#fff; line-height: 100%" class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Hello @user.UserName</a>
                    <div class="dropdown-menu" style="z-index: 999; transform: translateX(-30px)">
                        <a class="dropdown-item" href="/Motel/ViewMotel/">My Motel</a>
                        <a class="dropdown-item" href="/Account/AccountPage/">My Profile</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="" onclick="Logout()">Logout</a>
                    </div>
                </li>
            </ul>
        </div>
    </nav>
    <div style="width: 90%;border-right: 5px solid black; min-height:95vh;">
        @if (ViewBag.ROOMLIST != null)
        {
            <table style="width:100%; font-weight:bold;">
                <thead>
                    <tr style=" text-decoration:underline;height:auto;">
                        <th>Room Name</th>
                        <th>Price</th>
                        <th>Status</th>
                        <th>Number of People</th>
                        <th>Function</th>
                    </tr>
                    <tr style="border-bottom: 2px solid black; ">
                        <th></th>
                        <th></th>
                        <th></th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var dto in ViewBag.ROOMLIST)
                    {
                        <form action="/Room/Update/">
                            <tr>
                                <input type="hidden" name="RoomId" value="@dto.RoomId" />
                                <td>
                                    <input type="text" value="@dto.RoomName" name="RoomName" /><br />@Html.ValidationMessage("RoomName")
                                    @if (ViewBag.Duplicateid != null)
                                    {
                                        if (ViewBag.Duplicateid == dto.RoomId)
                                        {
                                            @ViewBag.DuplicateMessage
                                        }
                                    }
                                </td>
                                <td><input type="text" value="@dto.Price" name="price" /> </td>
                                <td><input type="checkbox" name="Status" checked="@dto.Status" value="true" /></td>
                                <td><input type="text" value="@dto.NumberOfPeople" name="NumberOfPeople" /></td>
                                <td>
                                    <input type="submit" value="Update" style="white-space: pre-line;color:dodgerblue;border:none;font-weight:bold;" /><br />
                                    <a href="/Room/Delete/?id=@dto.RoomId">Delete</a>
                                </td>
                                <td></td>
                            </tr>
                        </form>
                        <tr style="border-bottom: 2px solid black; ">
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    }
                </tbody>
            </table>
        }
        @if (ViewBag.ROOMLIST == null)
        {
            <center>
                <h1>You do not own any room!</h1>
            </center>
        }

        <center><form action="/Room/InsertPage/"><input type="submit" value="+ Add more room" style="font-weight: bold;border-radius: 8px;" /></form></center>
    </div>
</body>
</html>
